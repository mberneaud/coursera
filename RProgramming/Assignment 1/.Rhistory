install.packages(XML2R)
library(XML2R)
library(ggplot2)
install.packages("XML2R")
library(XML2R)
file <- "http://stats.oecd.org/restsdmx/sdmx.ashx/GetData/TIVA2015_C1/EXGR+EXGR_FNL+EXGR_INT+EXGR_DVA+EXGR_DDC+EXGR_IDC+EXGR_RIM+EXGR_FVA+IMGR+IMGR_FNL+IMGR_INT+BALGR+REII+PROD+VALU+FFD_DVA+DFD_FVA+BALVAFD+FD_VA+CONS_VA+GFCF_VA+EXGR_DVASH+EXGR_FVASH+EXGR_DVAFXSH+EXGR_FNLDVASH+EXGR_INTDVASH+EXGR_INTDVAPSH+EXGRPSH+EXGR_DVAPSH+EXGR_TDVAIND+EXGR_TFVAIND+EXGR_SERV_DVASH+EXGR_SERV_FVASH+IMGRINT_REII+IMGRPSH+FFD_DVAPSH+DFD_FVAPSH+VALUX_FFDDVA+PROD_VASH+FD_VASH+CONS_VASH+GFCF_VASH.AUS+AUT+BEL+CAN+CHL+CZE+DNK+EST+FIN+FRA+DEU+GRC+HUN+ISL+IRL+ISR+ITA+JPN+KOR+LUX+MEX+NLD+NZL+NOR+POL+PRT+SVK+SVN+ESP+SWE+CHE+TUR+GBR+USA+ARG+BRA+BRN+BGR+KHM+CHN+COL+CRI+HRV+CYP+HKG+IND+IDN+LVA+LTU+MYS+MLT+PHL+ROU+RUS+SAU+SGP+ZAF+TWN+THA+TUN+VNM+ROW.WOR+OECD+AUS+AUT+BEL+CAN+CHL+CZE+DNK+EST+FIN+FRA+DEU+GRC+HUN+ISL+IRL+ISR+ITA+JPN+KOR+LUX+MEX+NLD+NZL+NOR+POL+PRT+SVK+SVN+ESP+SWE+CHE+TUR+GBR+USA+NONOECD+ARG+BRA+BRN+BGR+KHM+CHN+COL+CRI+HRV+CYP+HKG+IND+IDN+LVA+LTU+MYS+MLT+PHL+ROU+RUS+SAU+SGP+ZAF+TWN+THA+TUN+VNM+ROW+APEC+ASEAN+EASIA+EU15+EU28+EU13+EA18+EA12+NAFTA+ZEUR+ZASI+ZSCA+ZOTH+DXD.CTOTAL+C01T05+C10T14+C15T37+C15T16+C17T19+C20T22+C20+C21T22+C23T26+C23+C24+C25+C26+C27T28+C27+C28+C29+C30T33+C30T33X+C31+C34T35+C34+C35+C36T37+C40T41+C45+C50T74+C50T55+C50T52+C55+C60T64+C60T63+C64+C65T67+C70T74+C70+C71+C72+C73T74+C75T95+C75+C80+C85+C90T93+C95+C10T41+C45T95+C50T95+C50T64+C65T74/all?startTime=1995&endTime=2011"
file
library(XML2R)
file <- "http://stats.oecd.org/restsdmx/sdmx.ashx/GetData/TIVA2015_C1/EXGR+EXGR_FNL+EXGR_INT+EXGR_DVA+EXGR_DDC+EXGR_IDC+EXGR_RIM+EXGR_FVA+IMGR+IMGR_FNL+IMGR_INT+BALGR+REII+PROD+VALU+FFD_DVA+DFD_FVA+BALVAFD+FD_VA+CONS_VA+GFCF_VA+EXGR_DVASH+EXGR_FVASH+EXGR_DVAFXSH+EXGR_FNLDVASH+EXGR_INTDVASH+EXGR_INTDVAPSH+EXGRPSH+EXGR_DVAPSH+EXGR_TDVAIND+EXGR_TFVAIND+EXGR_SERV_DVASH+EXGR_SERV_FVASH+IMGRINT_REII+IMGRPSH+FFD_DVAPSH+DFD_FVAPSH+VALUX_FFDDVA+PROD_VASH+FD_VASH+CONS_VASH+GFCF_VASH.AUS+AUT+BEL+CAN+CHL+CZE+DNK+EST+FIN+FRA+DEU+GRC+HUN+ISL+IRL+ISR+ITA+JPN+KOR+LUX+MEX+NLD+NZL+NOR+POL+PRT+SVK+SVN+ESP+SWE+CHE+TUR+GBR+USA+ARG+BRA+BRN+BGR+KHM+CHN+COL+CRI+HRV+CYP+HKG+IND+IDN+LVA+LTU+MYS+MLT+PHL+ROU+RUS+SAU+SGP+ZAF+TWN+THA+TUN+VNM+ROW.WOR+OECD+AUS+AUT+BEL+CAN+CHL+CZE+DNK+EST+FIN+FRA+DEU+GRC+HUN+ISL+IRL+ISR+ITA+JPN+KOR+LUX+MEX+NLD+NZL+NOR+POL+PRT+SVK+SVN+ESP+SWE+CHE+TUR+GBR+USA+NONOECD+ARG+BRA+BRN+BGR+KHM+CHN+COL+CRI+HRV+CYP+HKG+IND+IDN+LVA+LTU+MYS+MLT+PHL+ROU+RUS+SAU+SGP+ZAF+TWN+THA+TUN+VNM+ROW+APEC+ASEAN+EASIA+EU15+EU28+EU13+EA18+EA12+NAFTA+ZEUR+ZASI+ZSCA+ZOTH+DXD.CTOTAL+C01T05+C10T14+C15T37+C15T16+C17T19+C20T22+C20+C21T22+C23T26+C23+C24+C25+C26+C27T28+C27+C28+C29+C30T33+C30T33X+C31+C34T35+C34+C35+C36T37+C40T41+C45+C50T74+C50T55+C50T52+C55+C60T64+C60T63+C64+C65T67+C70T74+C70+C71+C72+C73T74+C75T95+C75+C80+C85+C90T93+C95+C10T41+C45T95+C50T95+C50T64+C65T74/all?startTime=1995&endTime=2011"
install.packages("WDI")
setwd("/home/malte/Git/datasciencecoursera/RProgramming/Assignment 1")
pollutantmean <- function(directory, pollutant, id = 1:332) {
files <- list.files(directory)
file.paths <- paste(directory, files, sep="/")
for(i in id) {
used.file <- read.csv(file.paths[i], header = T, sep = ",")
mean.file <- mean(used.file[, pollutant], na.rm = T)
mean.collector <- c()
mean.collector <- c(mean.collector, mean.file)
}
mean(mean.collector, na.rm = T)
}
test <- function(directory) {
files <- list.files(directory)
file.paths <- paste(directory, files, sep="/")
file.paths
}
pollutant <- "sulfate"
used.file <- read.csv(file.paths[2], header = T, sep = ",")
mean.file <- mean(used.file[, pollutant], na.rm = T)
mean.collector <- c()
mean.collector <- c(mean.collector, mean.file)
used.file <- read.csv(file.paths[2], header = T, sep = ",")
files <- list.files(directory)
file.paths <- paste(directory, files, sep="/")
file.paths
files <- list.files(directory)
files <- list.files(directory)
file.paths <- paste(directory, files, sep="/")
setwd("/home/malte/Git/datasciencecoursera/RProgramming/Assignment 1")
directory <- "specdata"
files <- list.files(directory)
file.paths <- paste(directory, files, sep="/")
pollutant <- "sulfate"
used.file <- read.csv(file.paths[1], header = T, sep = ",")
mean.file <- mean(used.file[, pollutant], na.rm = T)
View(used.file)
View(used.file)
mean(used.file[, 2])
mean(used.file[, 2], na.rm = T)
nrows(used.file)
nrow(used.file)
mean.collector <- c()
mean.collector <- c(mean.collector, mean.file)
used.file <- read.csv(file.paths[2], header = T, sep = ",")
mean.file <- mean(used.file[, pollutant], na.rm = T)
mean.collector <- c()
mean.collector <- c(mean.collector, mean.file)
source("pollutantmean.R")
pollutantmean("specdata", "sulfate", 1:10)
setwd("/home/malte/Git/datasciencecoursera/RProgramming/Assignment 1")
pollutantmean <- function(directory, pollutant, id = 1:332) {
files <- list.files(directory)
file.paths <- paste(directory, files, sep="/")
mean.collector <- c()
for(i in id) {
used.file <- read.csv(file.paths[i], header = T, sep = ",")
mean.file <- mean(used.file[, pollutant], na.rm = T)
mean.collector <- c(mean.collector, mean.file)
}
mean(mean.collector, na.rm = T)
}
pollutantmean("specdata", "sulfate", 1:10)
data.frame(c("ID", "no. complete cases"))
complete.cases <- data.frame(c("ID", "no complete cases"))
?data.frame
complete.cases <- c("ID", "no. complete cases")
complete.cases <- matrix(0,c("ID", "no. complete cases"))
complete.cases <- data.frame(0,c("ID", "no. complete cases"))
View(complete.cases)
View(complete.cases)
complete.cases <- data.frame("ID", "no. complete cases")
View(complete.cases)
View(complete.cases)
complete.cases <- data.frame(NULL)
View(complete.cases)
View(complete.cases)
colnames(complete.cases) <- c("ID", "no. complete cases")
complete.cases <- data.frame(0, 2)
View(complete.cases)
View(complete.cases)
complete.cases <- data.frame(NULL)
complete.cases <- data.frame()
View(complete.cases)
View(complete.cases)
complete.cases <- data.frame(, header = T)
complete.cases <- data.frame(ID = integer(),
no. complete cases = integer())
complete.cases <- data.frame(ID = integer(),
no. complete cases = integer())
complete.cases <- data.frame("ID" = integer(),"no. complete cases" = integer())
View(complete.cases)
View(complete.cases)
complete.cases <- data.frame("ID" = integer(),"nobs" = integer())
View(complete.cases)
View(complete.cases)
complete <- function(directory, id = 1:332) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'id' is an integer vector indicating the monitor ID numbers
## to be used
## Return a data frame of the form:
## id nobs
## 1  117
## 2  1041
## ...
## where 'id' is the monitor ID number and 'nobs' is the
## number of complete cases
files <- list.files(directory)
file.paths <- paste(directory, files, sep="/")
ids <- c()
nobs <- c()
#completecases <- data.frame("ID" = integer(),"nobs" = integer())
for(i in id) {
used.file <- read.csv(file.paths[i], header = T)
nobs.file <- nrow(na.omit(used.file))
nobs <- append(nobs, nobs.file)
ids <- append(ids, id[i])
}
completecases <- data.frame("ID" = ids, "nobs" = nobs)
}
complete("specdata", 1)
complete <- function(directory, id = 1:332) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'id' is an integer vector indicating the monitor ID numbers
## to be used
## Return a data frame of the form:
## id nobs
## 1  117
## 2  1041
## ...
## where 'id' is the monitor ID number and 'nobs' is the
## number of complete cases
files <- list.files(directory)
file.paths <- paste(directory, files, sep="/")
ids <- c()
nobs <- c()
#completecases <- data.frame("ID" = integer(),"nobs" = integer())
for(i in id) {
used.file <- read.csv(file.paths[i], header = T)
nobs.file <- nrow(na.omit(used.file))
nobs <- append(nobs, nobs.file)
ids <- append(ids, id[i])
}
completecases <- data.frame("ID" = ids, "nobs" = nobs)
}
complete("specdata", 1)
source("complete.R")
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
source("complete.R")
source("complete.R")
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
