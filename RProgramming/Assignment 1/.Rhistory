install.packages(XML2R)
library(XML2R)
library(ggplot2)
install.packages("XML2R")
library(XML2R)
file <- "http://stats.oecd.org/restsdmx/sdmx.ashx/GetData/TIVA2015_C1/EXGR+EXGR_FNL+EXGR_INT+EXGR_DVA+EXGR_DDC+EXGR_IDC+EXGR_RIM+EXGR_FVA+IMGR+IMGR_FNL+IMGR_INT+BALGR+REII+PROD+VALU+FFD_DVA+DFD_FVA+BALVAFD+FD_VA+CONS_VA+GFCF_VA+EXGR_DVASH+EXGR_FVASH+EXGR_DVAFXSH+EXGR_FNLDVASH+EXGR_INTDVASH+EXGR_INTDVAPSH+EXGRPSH+EXGR_DVAPSH+EXGR_TDVAIND+EXGR_TFVAIND+EXGR_SERV_DVASH+EXGR_SERV_FVASH+IMGRINT_REII+IMGRPSH+FFD_DVAPSH+DFD_FVAPSH+VALUX_FFDDVA+PROD_VASH+FD_VASH+CONS_VASH+GFCF_VASH.AUS+AUT+BEL+CAN+CHL+CZE+DNK+EST+FIN+FRA+DEU+GRC+HUN+ISL+IRL+ISR+ITA+JPN+KOR+LUX+MEX+NLD+NZL+NOR+POL+PRT+SVK+SVN+ESP+SWE+CHE+TUR+GBR+USA+ARG+BRA+BRN+BGR+KHM+CHN+COL+CRI+HRV+CYP+HKG+IND+IDN+LVA+LTU+MYS+MLT+PHL+ROU+RUS+SAU+SGP+ZAF+TWN+THA+TUN+VNM+ROW.WOR+OECD+AUS+AUT+BEL+CAN+CHL+CZE+DNK+EST+FIN+FRA+DEU+GRC+HUN+ISL+IRL+ISR+ITA+JPN+KOR+LUX+MEX+NLD+NZL+NOR+POL+PRT+SVK+SVN+ESP+SWE+CHE+TUR+GBR+USA+NONOECD+ARG+BRA+BRN+BGR+KHM+CHN+COL+CRI+HRV+CYP+HKG+IND+IDN+LVA+LTU+MYS+MLT+PHL+ROU+RUS+SAU+SGP+ZAF+TWN+THA+TUN+VNM+ROW+APEC+ASEAN+EASIA+EU15+EU28+EU13+EA18+EA12+NAFTA+ZEUR+ZASI+ZSCA+ZOTH+DXD.CTOTAL+C01T05+C10T14+C15T37+C15T16+C17T19+C20T22+C20+C21T22+C23T26+C23+C24+C25+C26+C27T28+C27+C28+C29+C30T33+C30T33X+C31+C34T35+C34+C35+C36T37+C40T41+C45+C50T74+C50T55+C50T52+C55+C60T64+C60T63+C64+C65T67+C70T74+C70+C71+C72+C73T74+C75T95+C75+C80+C85+C90T93+C95+C10T41+C45T95+C50T95+C50T64+C65T74/all?startTime=1995&endTime=2011"
file
library(XML2R)
file <- "http://stats.oecd.org/restsdmx/sdmx.ashx/GetData/TIVA2015_C1/EXGR+EXGR_FNL+EXGR_INT+EXGR_DVA+EXGR_DDC+EXGR_IDC+EXGR_RIM+EXGR_FVA+IMGR+IMGR_FNL+IMGR_INT+BALGR+REII+PROD+VALU+FFD_DVA+DFD_FVA+BALVAFD+FD_VA+CONS_VA+GFCF_VA+EXGR_DVASH+EXGR_FVASH+EXGR_DVAFXSH+EXGR_FNLDVASH+EXGR_INTDVASH+EXGR_INTDVAPSH+EXGRPSH+EXGR_DVAPSH+EXGR_TDVAIND+EXGR_TFVAIND+EXGR_SERV_DVASH+EXGR_SERV_FVASH+IMGRINT_REII+IMGRPSH+FFD_DVAPSH+DFD_FVAPSH+VALUX_FFDDVA+PROD_VASH+FD_VASH+CONS_VASH+GFCF_VASH.AUS+AUT+BEL+CAN+CHL+CZE+DNK+EST+FIN+FRA+DEU+GRC+HUN+ISL+IRL+ISR+ITA+JPN+KOR+LUX+MEX+NLD+NZL+NOR+POL+PRT+SVK+SVN+ESP+SWE+CHE+TUR+GBR+USA+ARG+BRA+BRN+BGR+KHM+CHN+COL+CRI+HRV+CYP+HKG+IND+IDN+LVA+LTU+MYS+MLT+PHL+ROU+RUS+SAU+SGP+ZAF+TWN+THA+TUN+VNM+ROW.WOR+OECD+AUS+AUT+BEL+CAN+CHL+CZE+DNK+EST+FIN+FRA+DEU+GRC+HUN+ISL+IRL+ISR+ITA+JPN+KOR+LUX+MEX+NLD+NZL+NOR+POL+PRT+SVK+SVN+ESP+SWE+CHE+TUR+GBR+USA+NONOECD+ARG+BRA+BRN+BGR+KHM+CHN+COL+CRI+HRV+CYP+HKG+IND+IDN+LVA+LTU+MYS+MLT+PHL+ROU+RUS+SAU+SGP+ZAF+TWN+THA+TUN+VNM+ROW+APEC+ASEAN+EASIA+EU15+EU28+EU13+EA18+EA12+NAFTA+ZEUR+ZASI+ZSCA+ZOTH+DXD.CTOTAL+C01T05+C10T14+C15T37+C15T16+C17T19+C20T22+C20+C21T22+C23T26+C23+C24+C25+C26+C27T28+C27+C28+C29+C30T33+C30T33X+C31+C34T35+C34+C35+C36T37+C40T41+C45+C50T74+C50T55+C50T52+C55+C60T64+C60T63+C64+C65T67+C70T74+C70+C71+C72+C73T74+C75T95+C75+C80+C85+C90T93+C95+C10T41+C45T95+C50T95+C50T64+C65T74/all?startTime=1995&endTime=2011"
install.packages("WDI")
complete("specdata", c(2, 4, 8, 10, 12))
setwd("/home/malte/Git/datasciencecoursera/RProgramming/Assignment 1")
source("complete.R")
source("complete.R")
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
source("complete.R")
complete("specdata", c(2, 4, 8, 10, 12))
complete <- complete("specdata", 30:25)
View(complete)
id <- 30:25
length <- length(id)
length <- as.integer(length(id))
length <- as.integer(length(id))
length
source("complete.R")
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
source("complete.R")
complete("specdata", c(2, 4, 8, 10, 12))
source("complete.R")
complete("specdata", c(2, 4, 8, 10, 12))
complete <- complete("specdata", 30:25)
source("complete.R")
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 1)
complete("specdata", 1)
complete <- function(directory, id = 1:332) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'id' is an integer vector indicating the monitor ID numbers
## to be used
## Return a data frame of the form:
## id nobs
## 1  117
## 2  1041
## ...
## where 'id' is the monitor ID number and 'nobs' is the
## number of complete cases
files <- list.files(directory)
file.paths <- paste(directory, files, sep="/")
ids <- c()
nobs <- c()
length <- length(id)
#completecases <- data.frame("ID" = integer(),"nobs" = integer())
for(i in id) {
used.file <- read.csv(file.paths[i], header = T)
nobs.file <- nrow(na.omit(used.file))
nobs <- append(nobs, nobs.file)
ids <- append(ids, id)
}
completecases <- data.frame("ID" = ids, "nobs" = nobs)
completecases
}
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
?head
source("complete.R")
complete("specdata", 1)
source("complete.R")
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
complete <- complete("specdata", 30:25)
complete("specdata", 3)
source("complete.R")
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
source("complete.R")
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
source("complete.R")
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
complete("specdata", 30:25)
directory <- "specdata"
threshold <- c(150)
files <- list.files(directory)
file.paths <- paste(directory, files, sep="/")
used.file <- read.csv(file.paths[1], header = T)
complete.file <- sum(complete.cases(used.file))
complete.file <- complete.cases(used.file)
complete.file <- sum(complete.cases(used.file))
test <- complete.file > threshold
?cor
source("corr.R")
setwd("/home/malte/Git/datasciencecoursera/RProgramming/Assignment 1")
source("corr.R")
setwd("/home/malte/Git/datasciencecoursera/RProgramming/Assignment 1")
source("corr.R")
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
files <- list.files(directory)
file.paths <- paste(directory, files, sep="/")
corr.vector <- c()
for(i in list.files) {
used.file <- read.csv(file.paths[i], header = T)
complete.file <- sum(complete.cases(used.file))
if(complete.file > threshold) {
cor <- cor(used.file$nitrate, used.file$sulfate, use = complete.obs)
corr.vector <- c(corr.vector, cor)
} else {
break
}
}
return(corr.vector)
}
cr <- corr("specdata", 150)
source("corr.R")
corr <- function(directory, threshold = 0) {
## 'directory' is a character vector of length 1 indicating
## the location of the CSV files
## 'threshold' is a numeric vector of length 1 indicating the
## number of completely observed observations (on all
## variables) required to compute the correlation between
## nitrate and sulfate; the default is 0
## Return a numeric vector of correlations
## NOTE: Do not round the result!
files <- list.files(directory)
file.paths <- paste(directory, files, sep="/")
corr.vector <- c()
for(i in files) {
used.file <- read.csv(file.paths[i], header = T)
complete.file <- sum(complete.cases(used.file))
if(complete.file > threshold) {
cor <- cor(used.file$nitrate, used.file$sulfate, use = complete.obs)
corr.vector <- c(corr.vector, cor)
} else {
break
}
}
return(corr.vector)
}
cr <- corr("specdata", 150)
files <- list.files(directory)
directory <- "specdata"
threshold <- c(150)
files <- list.files(directory)
file.paths <- paste(directory, files, sep="/")
used.file <- read.csv(file.paths[1], header = T)
View(used.file)
View(used.file)
complete.file <- sum(complete.cases(used.file))
cor <- cor(used.file$nitrate, used.file$sulfate, use = complete.obs)
cor <- cor(used.file$nitrate, used.file$sulfate, use = "complete.obs")
corr.vector <- c()
corr.vector <- c(corr.vector, cor)
return(corr.vector)
corr.vector
?return
corr <- function(directory, threshold = 0) {
files <- list.files(directory)
file.paths <- paste(directory, files, sep="/")
corr.vector <- c()
for(i in files) {
used.file <- read.csv(file.paths[i], header = T)
complete.file <- sum(complete.cases(used.file))
if(complete.file > threshold) {
cor <- cor(used.file$nitrate, used.file$sulfate, use = "complete.obs")
corr.vector <- c(corr.vector, cor)
} else {
break
}
}
corr.vector
}
cr <- corr("specdata", 150)
directory <- "specdata"
threshold <- c(150)
files <- list.files(directory)
files.index <- as.numeric(files)
files.index <- as.factor(files)
corr <- function(directory, threshold = 0) {
files <- list.files(directory)
files.index <- as.factor(files)
file.paths <- paste(directory, files, sep="/")
corr.vector <- c()
for(i in files.index) {
used.file <- read.csv(file.paths[i], header = T)
complete.file <- sum(complete.cases(used.file))
if(complete.file > threshold) {
cor <- cor(used.file$nitrate, used.file$sulfate, use = "complete.obs")
corr.vector <- c(corr.vector, cor)
} else {
break
}
}
corr.vector
}
cr <- corr("specdata", 150)
cr <- corr("specdata", 150)
Sys.getenv()
Sys.setenv(LANG = "en")
x + 2
